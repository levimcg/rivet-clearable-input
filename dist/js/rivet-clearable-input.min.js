/*!
 * rivet-clearable-input - @version 0.1.0-alpha
 * (c) 2018, The Trustees of Indiana University | Apache-2.0 License
 * https://github.com/maurercw/rivet-clearable-input
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var e,t;e="undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0,t=function(e){var n=function(e,t){return 0<=e.className.split(" ").indexOf(t)},i=function(e,t,n){var i=t.className.split(" "),o=i.indexOf(n);e?-1==o&&(t.className+=" "+n):0<=o&&(i.splice(o,1),t.className=i.join(" "))},t=function(e){var t,n;i(!1,e,"x"),i(!1,e,"onX"),e.value="",t=e,n=new CustomEvent("inputCleared",{bubbles:!0,detail:{name:function(){return t.id}}}),t.dispatchEvent(n)};return{init:function(){document.querySelectorAll("input.rvt-clearable-input").forEach(function(e){e.addEventListener("input",function(e){i(e.target.value,e.target,"x")}),e.addEventListener("keyup",function(e){"Escape"==e.key&&t(e.target)}),e.addEventListener("mousemove",function(e){if(n(e.target,"x")){var t=e.target.offsetWidth-28<e.clientX-e.target.getBoundingClientRect().left;i(t,e.target,"onX")}}),e.addEventListener("click",function(e){n(e.target,"onX")&&(e.preventDefault(),t(e.target))})})}}},"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():e.ClearableInput=t()});