/*!
 * rivet-clearable-input - @version 0.1.0-alpha
 * (c) 2019, The Trustees of Indiana University | Apache-2.0 License
 * https://github.com/maurercw/rivet-clearable-input
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var e,t;e="undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0,t=function(e){var i=function(e,t){return 0<=e.className.split(" ").indexOf(t)},o=function(e,t,n){var i=t.className.split(" "),o=i.indexOf(n);e?-1==o&&(t.className+=" "+n):0<=o&&(i.splice(o,1),t.className=i.join(" "))},a=function(e){var t,n;o(!1,e,"x"),o(!1,e,"onX"),e.value="",t=e,n=new CustomEvent("inputCleared",{bubbles:!0,detail:{name:function(){return t.id}}}),t.dispatchEvent(n)};return{init:function(){for(var e=document.querySelectorAll("input.rvt-clearable-input"),t=0;t<e.length;t++){var n=e[t];n.addEventListener("input",function(e){o(e.target.value,e.target,"x")}),n.addEventListener("keyup",function(e){27==e.keyCode&&a(e.target)}),n.addEventListener("mousemove",function(e){if(i(e.target,"x")){var t=e.target.offsetWidth-28<e.clientX-e.target.getBoundingClientRect().left;o(t,e.target,"onX")}}),n.addEventListener("click",function(e){i(e.target,"onX")&&(e.preventDefault(),a(e.target))})}},clearInput:a}},"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():e.ClearableInput=t()});